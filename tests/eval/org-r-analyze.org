#+TITLE:  ORG-R-TEST
#+AUTHOR: Tobias Maier
#+EMAIL:  t.maier@kit.edu


* Plotting example
#+begin_src R :results output graphics :file mygraph.png :bg "white"
# Creating a Graph
attach(mtcars)
plot(wt, mpg)
abline(lm(mpg~wt))
title("Regression of MPG on Weight")
#+end_src

#+RESULTS:
[[file:mygraph.png]]


* Clear Data
#+BEGIN_SRC R :session
rm(list=ls())
getwd()
#+END_SRC

#+RESULTS:
: /data/HashTables/Space-Grow-Table/tests/eval

* Reading Data
#+begin_src R :session :results output
#graphics :file mygraph.png
cols <- c('it', 'al', 'bs', 'tl', 'cap', 'pre', 'n', 'tp', 'tin', 'tfi', 'unsucc', 'lost')
grows_bfs_raw      <- read.table("../11_11-C/grows_bfs_T"     , comment.char = "i", col.names = cols)
grows_rwalk_raw    <- read.table("../11_11-C/grows_rwalk_T"   , comment.char = "i", col.names = cols)
grows_rwalkcyc_raw <- read.table("../11_11-C/grows_rwalkcyc_T", comment.char = "i", col.names = cols)
hom2lvl_raw        <- read.table("../11_11-C/hom2lvl_T"       , comment.char = "i", col.names = cols)
cuckoo_raw         <- read.table("../11_11-C/cuckoo_T"        , comment.char = "i", col.names = cols)
linprob_raw        <- read.table("../11_11-C/linprob_T"       , comment.char = "i", col.names = cols)
#plot(rep(1,5), grows_bfs_raw['tin'])

loc_groupby <- function(d)
{
  return( aggregate(d, by=list(d$bs, d$tl, d$cap, d$al), FUN=mean) )
}

grows_bfs      = loc_groupby(grows_bfs_raw)
grows_rwalk    = loc_groupby(grows_rwalk_raw)
grows_rwalkcyc = loc_groupby(grows_rwalkcyc_raw)
hom2lvl        = loc_groupby(hom2lvl_raw)
cuckoo         = loc_groupby(cuckoo_raw)
linprob        = loc_groupby(linprob_raw)
#+end_src

#+RESULTS:

* Try some Plots

#+BEGIN_SRC R :session :results graphics :file plot.png
choseNPlot <- function (d)
{
  CHOSE = d$cap == 1 & d$tl == 256 & d$al == 1.1
  plot (d[CHOSE, c('bs','tfi')])
}
choseNPlot(grows_bfs)
#choseNPlot(grows_rwalk)
#+END_SRC

#+RESULTS:
[[file:plot.png]]
